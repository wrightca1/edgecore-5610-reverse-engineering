# Live Switch BCM Config — 10.1.1.233

**Source**: Cumulus Linux 2.5.1 on AS5610-52X (BCM56846 Trident+)  
**Captured**: 2026-02-18  
**Location**: `cumulus/extracted-from-switch/etc/bcm.d/` (extracted from `docs/reverse-engineering/traces/bcm-config-10.1.1.233.tar.gz`)

---

## File inventory

| File | Size | Purpose |
|------|------|---------|
| backend_map | 29 B | Backend index mapping |
| config.bcm | 6054 B | Merged SDK config (01+02+10+11+12) |
| config.d/01config.bcm | 43 B | Platform overrides (Accton 5610) |
| config.d/02sdk.bcm | 1747 B | SDK parameters |
| config.d/10phy-ucode.bcm | 158 B | PHY ucode download method |
| config.d/11ports.bcm | 4004 B | Port map, pbmp, port init |
| config.d/12portwd.bcm | 0 B | Port watchdog (empty) |
| rc.soc | 1522 B | SOC init script |
| rc.ports_0 | 178 B | Port env (allports, 10Gports, 40Gports) |
| rc.led | 240 B | LED script |
| rc.phy | 103 B | PHY script (empty) |
| datapath/datapath.conf | ~4 KB | Buffer/priority group config |
| datapath/hw_desc | ~300 B | Hardware description |
| datapath/rc.forwarding | ~3 KB | ECMP hash, CPU punt config |
| led0.asm | 5104 B | LED 0 assembly |
| led0.hex | 784 B | LED 0 compiled |
| led1.asm | 5223 B | LED 1 assembly |
| led1.hex | 784 B | LED 1 compiled |

---

## backend_map

```
backend index list:
backend 0
```

---

## config.bcm

```
# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.
# Accton 5610 SDK configuration parameters
# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.
# BCM Trident, Trident+ SDK parameters

# Enable polled IRQ mode (useful for board bringup and debugging).
# IRQs will be polled from a dedicated thread and hardware interrupts
# will remain disabled.
polled_irq_mode=0
# Flag values to be ORd together:
#   0x0 indicates that counter DMA should NOT be used
#   0x1 indicates that counter DMA should be used (default).
bcm_stat_flags=0x1
# Mode control to select L2 Table DMA mode aka L2MODE_POLL (0) or
# L2MOD_FIFO mechanism aka L2MODE_FIFO (1) for L2 table change notification.
l2xmsg_mode=1
# If miim_intr_enable variable is set to 1, the system will use
# interrupts for MII operations since they take a while (70 usec or so).
# If this variable is set to 0, polling will be used for all MII
# operations.
miim_intr_enable=1
# Table DMA operation should use interrupt rather than poll for completion
tdma_intr_enable=1
# Table SLAM DMA operation should use interrupt rather than poll for completion
tslam_intr_enable=1
# Enable/Disable SLAM DMA
tslam_dma_enable=1
# Enable/Disable TABLE DMA
table_dma_enable=1
# Specify a BCM port translation map.
bcm_xlate_port_map.BCM56634=bcm56636_single_modid
# Enable translation of system port numbers to physical port numbers
# in hardware (if supported by the switch device). This feature may
# be used to complement the BCM API translation feature, but can
# also be used to limit the use of module IDs on devices with 32 or
# fewer ports in case some physical port numbers reside beyond 31.
bcm_xlate_sysport_enable.BCM56634=1
parity_enable=1
xgxs_lcpll_xtal_refclk=1
#CUMULUS 56845 requires a portmap in the config, otherwise bcm_init segfaults

# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.
# use MDIO method for ucode download
phy_ext_rom_boot=0
# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.

# pbmp
pbmp_xport_xe.0=0x1ffffffffffffe
pbmp_valid.0=0x2001fffffffffffff

# portmap
portmap_1.0=65:10
portmap_2.0=66:10
portmap_3.0=67:10
portmap_4.0=68:10
portmap_5.0=69:10
portmap_6.0=70:10
portmap_7.0=71:10
portmap_8.0=72:10
portmap_9.0=5:10
portmap_10.0=6:10
portmap_11.0=7:10
portmap_12.0=8:10
portmap_13.0=9:10
portmap_14.0=10:10
portmap_15.0=11:10
portmap_16.0=12:10
portmap_17.0=13:10
portmap_18.0=14:10
portmap_19.0=15:10
portmap_20.0=16:10
portmap_21.0=18:10
portmap_22.0=17:10
portmap_23.0=20:10
portmap_24.0=19:10
portmap_25.0=22:10
portmap_26.0=21:10
portmap_27.0=24:10
portmap_28.0=23:10
portmap_29.0=25:10
portmap_30.0=26:10
portmap_31.0=27:10
portmap_32.0=28:10
portmap_33.0=29:10
portmap_34.0=30:10
portmap_35.0=31:10
portmap_36.0=32:10
portmap_37.0=33:10
portmap_38.0=34:10
portmap_39.0=35:10
portmap_40.0=36:10
portmap_41.0=37:10
portmap_42.0=38:10
portmap_43.0=39:10
portmap_44.0=40:10
portmap_45.0=41:10
portmap_46.0=42:10
portmap_47.0=43:10
portmap_48.0=44:10
portmap_49.0=49:40
portmap_50.0=45:40
portmap_51.0=61:40
portmap_52.0=57:40

# emphasis


# port initializations
#   set full duplex for all ports
port_init_duplex=1
port_init_speed_xe0=10000
port_init_autoneg_xe0=0
port_init_speed_xe1=10000
port_init_autoneg_xe1=0
port_init_speed_xe2=10000
port_init_autoneg_xe2=0
port_init_speed_xe3=10000
port_init_autoneg_xe3=0
port_init_speed_xe4=10000
port_init_autoneg_xe4=0
port_init_speed_xe5=10000
port_init_autoneg_xe5=0
port_init_speed_xe6=10000
port_init_autoneg_xe6=0
port_init_speed_xe7=10000
port_init_autoneg_xe7=0
port_init_speed_xe8=10000
port_init_autoneg_xe8=0
port_init_speed_xe9=10000
port_init_autoneg_xe9=0
port_init_speed_xe10=10000
port_init_autoneg_xe10=0
port_init_speed_xe11=10000
port_init_autoneg_xe11=0
port_init_speed_xe12=10000
port_init_autoneg_xe12=0
port_init_speed_xe13=10000
port_init_autoneg_xe13=0
port_init_speed_xe14=10000
port_init_autoneg_xe14=0
port_init_speed_xe15=10000
port_init_autoneg_xe15=0
port_init_speed_xe16=10000
port_init_autoneg_xe16=0
port_init_speed_xe17=10000
port_init_autoneg_xe17=0
port_init_speed_xe18=10000
port_init_autoneg_xe18=0
port_init_speed_xe19=10000
port_init_autoneg_xe19=0
port_init_speed_xe20=10000
port_init_autoneg_xe20=0
port_init_speed_xe21=10000
port_init_autoneg_xe21=0
port_init_speed_xe22=10000
port_init_autoneg_xe22=0
port_init_speed_xe23=10000
port_init_autoneg_xe23=0
port_init_speed_xe24=10000
port_init_autoneg_xe24=0
port_init_speed_xe25=10000
port_init_autoneg_xe25=0
port_init_speed_xe26=10000
port_init_autoneg_xe26=0
port_init_speed_xe27=10000
port_init_autoneg_xe27=0
port_init_speed_xe28=10000
port_init_autoneg_xe28=0
port_init_speed_xe29=10000
port_init_autoneg_xe29=0
port_init_speed_xe30=10000
port_init_autoneg_xe30=0
port_init_speed_xe31=10000
port_init_autoneg_xe31=0
port_init_speed_xe32=10000
port_init_autoneg_xe32=0
port_init_speed_xe33=10000
port_init_autoneg_xe33=0
port_init_speed_xe34=10000
port_init_autoneg_xe34=0
port_init_speed_xe35=10000
port_init_autoneg_xe35=0
port_init_speed_xe36=10000
port_init_autoneg_xe36=0
port_init_speed_xe37=10000
port_init_autoneg_xe37=0
port_init_speed_xe38=10000
port_init_autoneg_xe38=0
port_init_speed_xe39=10000
port_init_autoneg_xe39=0
port_init_speed_xe40=10000
port_init_autoneg_xe40=0
port_init_speed_xe41=10000
port_init_autoneg_xe41=0
port_init_speed_xe42=10000
port_init_autoneg_xe42=0
port_init_speed_xe43=10000
port_init_autoneg_xe43=0
port_init_speed_xe44=10000
port_init_autoneg_xe44=0
port_init_speed_xe45=10000
port_init_autoneg_xe45=0
port_init_speed_xe46=10000
port_init_autoneg_xe46=0
port_init_speed_xe47=10000
port_init_autoneg_xe47=0
port_init_speed_xe48=40000
port_init_autoneg_xe48=0
port_init_speed_xe49=40000
port_init_autoneg_xe49=0
port_init_speed_xe50=40000
port_init_autoneg_xe50=0
port_init_speed_xe51=40000
port_init_autoneg_xe51=0

# phys
# addrs
# prime_offsets
# phy_id1s
# sys_interfaces
```

---

## config.d/01config.bcm

```
# Accton 5610 SDK configuration parameters
```

---

## config.d/02sdk.bcm

```
# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.
# BCM Trident, Trident+ SDK parameters

# Enable polled IRQ mode (useful for board bringup and debugging).
# IRQs will be polled from a dedicated thread and hardware interrupts
# will remain disabled.
polled_irq_mode=0
# Flag values to be ORd together:
#   0x0 indicates that counter DMA should NOT be used
#   0x1 indicates that counter DMA should be used (default).
bcm_stat_flags=0x1
# Mode control to select L2 Table DMA mode aka L2MODE_POLL (0) or
# L2MOD_FIFO mechanism aka L2MODE_FIFO (1) for L2 table change notification.
l2xmsg_mode=1
# If miim_intr_enable variable is set to 1, the system will use
# interrupts for MII operations since they take a while (70 usec or so).
# If this variable is set to 0, polling will be used for all MII
# operations.
miim_intr_enable=1
# Table DMA operation should use interrupt rather than poll for completion
tdma_intr_enable=1
# Table SLAM DMA operation should use interrupt rather than poll for completion
tslam_intr_enable=1
# Enable/Disable SLAM DMA
tslam_dma_enable=1
# Enable/Disable TABLE DMA
table_dma_enable=1
# Specify a BCM port translation map.
bcm_xlate_port_map.BCM56634=bcm56636_single_modid
# Enable translation of system port numbers to physical port numbers
# in hardware (if supported by the switch device). This feature may
# be used to complement the BCM API translation feature, but can
# also be used to limit the use of module IDs on devices with 32 or
# fewer ports in case some physical port numbers reside beyond 31.
bcm_xlate_sysport_enable.BCM56634=1
parity_enable=1
xgxs_lcpll_xtal_refclk=1
#CUMULUS 56845 requires a portmap in the config, otherwise bcm_init segfaults
```

---

## config.d/10phy-ucode.bcm

```
# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.
# use MDIO method for ucode download
phy_ext_rom_boot=0
```

---

## config.d/11ports.bcm

```
# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.

# pbmp
pbmp_xport_xe.0=0x1ffffffffffffe
pbmp_valid.0=0x2001fffffffffffff

# portmap
portmap_1.0=65:10
portmap_2.0=66:10
portmap_3.0=67:10
portmap_4.0=68:10
portmap_5.0=69:10
portmap_6.0=70:10
portmap_7.0=71:10
portmap_8.0=72:10
portmap_9.0=5:10
portmap_10.0=6:10
portmap_11.0=7:10
portmap_12.0=8:10
portmap_13.0=9:10
portmap_14.0=10:10
portmap_15.0=11:10
portmap_16.0=12:10
portmap_17.0=13:10
portmap_18.0=14:10
portmap_19.0=15:10
portmap_20.0=16:10
portmap_21.0=18:10
portmap_22.0=17:10
portmap_23.0=20:10
portmap_24.0=19:10
portmap_25.0=22:10
portmap_26.0=21:10
portmap_27.0=24:10
portmap_28.0=23:10
portmap_29.0=25:10
portmap_30.0=26:10
portmap_31.0=27:10
portmap_32.0=28:10
portmap_33.0=29:10
portmap_34.0=30:10
portmap_35.0=31:10
portmap_36.0=32:10
portmap_37.0=33:10
portmap_38.0=34:10
portmap_39.0=35:10
portmap_40.0=36:10
portmap_41.0=37:10
portmap_42.0=38:10
portmap_43.0=39:10
portmap_44.0=40:10
portmap_45.0=41:10
portmap_46.0=42:10
portmap_47.0=43:10
portmap_48.0=44:10
portmap_49.0=49:40
portmap_50.0=45:40
portmap_51.0=61:40
portmap_52.0=57:40

# emphasis

# port initializations
#   set full duplex for all ports
port_init_duplex=1
port_init_speed_xe0=10000
port_init_autoneg_xe0=0
port_init_speed_xe1=10000
port_init_autoneg_xe1=0
port_init_speed_xe2=10000
port_init_autoneg_xe2=0
port_init_speed_xe3=10000
port_init_autoneg_xe3=0
port_init_speed_xe4=10000
port_init_autoneg_xe4=0
port_init_speed_xe5=10000
port_init_autoneg_xe5=0
port_init_speed_xe6=10000
port_init_autoneg_xe6=0
port_init_speed_xe7=10000
port_init_autoneg_xe7=0
port_init_speed_xe8=10000
port_init_autoneg_xe8=0
port_init_speed_xe9=10000
port_init_autoneg_xe9=0
port_init_speed_xe10=10000
port_init_autoneg_xe10=0
port_init_speed_xe11=10000
port_init_autoneg_xe11=0
port_init_speed_xe12=10000
port_init_autoneg_xe12=0
port_init_speed_xe13=10000
port_init_autoneg_xe13=0
port_init_speed_xe14=10000
port_init_autoneg_xe14=0
port_init_speed_xe15=10000
port_init_autoneg_xe15=0
port_init_speed_xe16=10000
port_init_autoneg_xe16=0
port_init_speed_xe17=10000
port_init_autoneg_xe17=0
port_init_speed_xe18=10000
port_init_autoneg_xe18=0
port_init_speed_xe19=10000
port_init_autoneg_xe19=0
port_init_speed_xe20=10000
port_init_autoneg_xe20=0
port_init_speed_xe21=10000
port_init_autoneg_xe21=0
port_init_speed_xe22=10000
port_init_autoneg_xe22=0
port_init_speed_xe23=10000
port_init_autoneg_xe23=0
port_init_speed_xe24=10000
port_init_autoneg_xe24=0
port_init_speed_xe25=10000
port_init_autoneg_xe25=0
port_init_speed_xe26=10000
port_init_autoneg_xe26=0
port_init_speed_xe27=10000
port_init_autoneg_xe27=0
port_init_speed_xe28=10000
port_init_autoneg_xe28=0
port_init_speed_xe29=10000
port_init_autoneg_xe29=0
port_init_speed_xe30=10000
port_init_autoneg_xe30=0
port_init_speed_xe31=10000
port_init_autoneg_xe31=0
port_init_speed_xe32=10000
port_init_autoneg_xe32=0
port_init_speed_xe33=10000
port_init_autoneg_xe33=0
port_init_speed_xe34=10000
port_init_autoneg_xe34=0
port_init_speed_xe35=10000
port_init_autoneg_xe35=0
port_init_speed_xe36=10000
port_init_autoneg_xe36=0
port_init_speed_xe37=10000
port_init_autoneg_xe37=0
port_init_speed_xe38=10000
port_init_autoneg_xe38=0
port_init_speed_xe39=10000
port_init_autoneg_xe39=0
port_init_speed_xe40=10000
port_init_autoneg_xe40=0
port_init_speed_xe41=10000
port_init_autoneg_xe41=0
port_init_speed_xe42=10000
port_init_autoneg_xe42=0
port_init_speed_xe43=10000
port_init_autoneg_xe43=0
port_init_speed_xe44=10000
port_init_autoneg_xe44=0
port_init_speed_xe45=10000
port_init_autoneg_xe45=0
port_init_speed_xe46=10000
port_init_autoneg_xe46=0
port_init_speed_xe47=10000
port_init_autoneg_xe47=0
port_init_speed_xe48=40000
port_init_autoneg_xe48=0
port_init_speed_xe49=40000
port_init_autoneg_xe49=0
port_init_speed_xe50=40000
port_init_autoneg_xe50=0
port_init_speed_xe51=40000
port_init_autoneg_xe51=0

# phys
# addrs
# prime_offsets
# phy_id1s
# sys_interfaces
```

---

## config.d/12portwd.bcm

```
(empty file)
```

---

## rc.soc

```
debug -PCi
debug -SChan 
debug -SOCMEM
debug -SYMTAB
debug -VERInet
debug -L3
debug -INTr
debug -ARL
debug -ARLMon
debug -L2table
debug -DMA
debug -POrt
debug -PAcket
debug -TX
debug -RCLOAD
debug -TEsts
debug -VERbose
debug -MIIm
debug -PHY
debug -END
debug -LInk
debug -CounTeR
debug -IP
debug -STP
debug -VLAN
debug -RX
debug -I2C
debug -REG
debug -MEM
debug -STK

attach *

0:

init all

# basic port configuration
#
rcload /etc/bcm.d/rc.ports_0

setreg xmac_tx_ctrl 0xc802
s MAC_RSV_MASK MASK=0x18

m cmic_misc_control LINK40G_ENABLE=1

# datapath
#
0: rcload /var/lib/cumulus/rc.datapath_0

# avoid Trident FP_METER_TABLE false parity error errata
#
setreg IFP_METER_PARITY_CONTROL 0

#-------------------------------------------------------------------------------
#
# receive and transmit drop statistic dissaggregation
#
# this counters are coupled with and presented by code in the SDK and switchd
# to allow ethtool and snmp access.
#

# aggregated rx drop statistics
# - ingress buffer discards are counted separately
#
setreg rdbgc0_select 0x04000d11	# RIPD4, RIPD6, RDISC, RPORTD, PDISC, VLANDR

# disaggreagated receive drop statistics
#
setreg rdbgc3_select 0x00000011	# RIPD4, RIPD6
setreg rdbgc4_select 0x00000100	# RDISC  
setreg rdbgc5_select 0x00002000	# RFILDR 
setreg rdbgc6_select 0x00008000	# RDROP  

# disaggregated tx drop statistic
#
setreg tdbgc6_select 0x00040000	# TPKTD

#-------------------------------------------------------------------------------
#
# LEDs
#
rcload /etc/bcm.d/rc.led
```

---

## rc.ports_0

```
# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.
setenv allports xe0-xe51
setenv 40Gports xe48-xe51
setenv 10Gports xe0-xe47
```

---

## rc.led

```
# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.
led 0 stop
led 0 auto on
led 0 load /etc/bcm.d/led0.hex
led 0 start

led 1 stop
led 1 auto on
led 1 load /etc/bcm.d/led1.hex
led 1 start
```

---

## rc.phy

```
# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.
(empty content)
```

---

## datapath/datapath.conf

```
# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.
 # chip datapath configuration file
#
# Default datapath configuration for Broadcom Trident/Trident2 chips
#

# priority group ID assigned to each priority group
priority_group.control.id = 7
priority_group.service.id = 2
priority_group.lossless.id = 3
priority_group.bulk.id = 0

# service pools assigned to each priority group
priority_group.control.service_pool = 1
priority_group.service.service_pool = 2
priority_group.lossless.service_pool = 3
priority_group.bulk.service_pool = 0

# --- ingress buffer space allocations ---
ingress_service_pool.0.percent = 0.0  # bulk
ingress_service_pool.1.percent = 3.0  # control
ingress_service_pool.2.percent = 2.0  # service
ingress_service_pool.3.percent = 1.0  # lossless

priority_group.control.ingress_buffer.min_percent = 0.0
priority_group.control.ingress_buffer.shared_percent = 44.0
priority_group.service.ingress_buffer.min_percent = 0.0
priority_group.service.ingress_buffer.shared_percent = 4.0
priority_group.bulk.ingress_buffer.min_percent = 40.0
priority_group.bulk.ingress_buffer.shared_percent = 20.0
priority_group.lossless.ingress_buffer.min_percent = 4.0
priority_group.lossless.ingress_buffer.shared_percent = 1.0

# --- egress buffer space allocations ---
egress_service_pool.0.percent = 45.0   # bulk
egress_service_pool.1.percent = 90.0   # control
egress_service_pool.2.percent = 90.0   # service
egress_service_pool.3.percent = 90.0   # lossless

priority_group.control.unlimited_egress_buffer = true
priority_group.service.unlimited_egress_buffer = true
priority_group.lossless.unlimited_egress_buffer = true
priority_group.bulk.unlimited_egress_buffer = false

priority_group.bulk.egress_buffer.uc.min_percent  = 5.0
priority_group.bulk.egress_buffer.mc.min_percent  = 2.0
priority_group.bulk.egress_buffer.cpu.min_percent = 4.0
priority_group.bulk.egress_buffer.uc.sp_percent = 15.0
priority_group.bulk.egress_buffer.mc.sp_percent = 10.0
priority_group.bulk.egress_buffer.cpu.sp_percent = 10.0

# internal cos values mapped to egress queues
cos_egr_queue.cos_0.uc  = 0
cos_egr_queue.cos_0.cpu = 0
cos_egr_queue.cos_1.uc  = 1
cos_egr_queue.cos_1.cpu = 1
cos_egr_queue.cos_2.uc  = 2
cos_egr_queue.cos_2.cpu = 2
cos_egr_queue.cos_3.uc  = 3
cos_egr_queue.cos_3.cpu = 3
cos_egr_queue.cos_4.uc  = 4
cos_egr_queue.cos_4.cpu = 4
cos_egr_queue.cos_5.uc  = 5
cos_egr_queue.cos_5.cpu = 5
cos_egr_queue.cos_6.uc  = 6
cos_egr_queue.cos_6.cpu = 6
cos_egr_queue.cos_7.uc  = 7
cos_egr_queue.cos_7.cpu = 7

# DOS prevention checks
dos.sip_eq_dip = false
dos.smac_eq_dmac = false
dos.tcp_hdr_partial = false
dos.tcp_syn_frag = false
dos.tcp_ports_eq = false
dos.tcp_flags_syn_fin = false
dos.tcp_flags_fup_seq0 = false
dos.tcp_offset1 = false
dos.tcp_ctrl0_seq0 = false
dos.udp_ports_eq = false
dos.icmp_frag = false
dos.icmpv4_length = false
dos.icmpv6_length = false
dos.ipv6_min_frag = false
```

---

## datapath/hw_desc

```
# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.
 # chip description file
hardware.total_buffer_cells = 46080
hardware.cell_bytes = 208
hardware.max_frame_cells = 45
hardware.num_priorities = 16
hardware.num_priority_groups = 8
hardware.num_service_pools = 4
hardware.num_mc_queues = 4
```

---

## datapath/rc.forwarding

```
# Automatically generated by /usr/lib/cumulus/update-ports.
# Fri Nov  1 12:08:49 2013
# Do not edit.
 # chip forwarding configuration file
section: forwarding

#-------------------------------------------------------------------------------
#
# fowarding configuration
#
# RTAG7 hashing for ECMP - see bcm-config-format for bitmap bin descriptions
#
modreg rtag7_ipv4_tcp_udp_hash_field_bmap_2 ipv4_tcp_udp_field_bitmap_a=0b0111101111100
modreg rtag7_ipv6_tcp_udp_hash_field_bmap_2 ipv6_tcp_udp_field_bitmap_a=0b0111101111100
modreg rtag7_ipv4_tcp_udp_hash_field_bmap_1 ipv4_tcp_udp_src_eq_dst_field_bitmap_a=0b0111100111100
modreg rtag7_ipv6_tcp_udp_hash_field_bmap_1 ipv6_tcp_udp_src_eq_dst_field_bitmap_a=0b0111100111100
modreg rtag7_hash_field_bmap_1 ipv4_field_bitmap_a=0b0111100011100
modreg rtag7_hash_field_bmap_2 ipv6_field_bitmap_a=0b0111100011100
modreg rtag7_hash_control_3 hash_a0_function_select=9
setreg rtag7_hash_seed_a 42
setreg rtag7_hash_ecmp(0) 0
setreg rtag7_hash_ecmp(1) 0
modreg hash_control ecmp_hash_use_rtag7=1
modreg hash_control use_tcp_udp_ports=1
modreg hash_control l3_hash_select=4
modreg hash_control non_uc_trunk_hash_use_rtag7=1
modreg cpu_control_1 l3_mtu_fail_tocpu=1
modreg cpu_control_1 l3_slowpath_tocpu=1
modreg cpu_control_1 v4l3dstmiss_tocpu=1
modreg cpu_control_1 v6l3dstmiss_tocpu=1
modreg aux_arb_control l2_mod_fifo_enable_l2_delete=0
```

---

## led0.asm

```asm
; Automatically generated by /usr/lib/cumulus/update-ports.
; Fri Nov  1 12:08:49 2013
; Do not edit.


;;;
;;; Constants
;;;

;;;
;;; The link scan base address points to an array of per-port data (32
;;; elements, 2 bytes each) which is continually updated by the main CPU's
;;; linkscan task.
LINKSCAN_P         equ    0x80 ; port data base address

;;; bits in the port data fields
LINKSCAN_LINK      equ    0x0  ; link down/up
LINKSCAN_TX        equ    0x4  ; transmitted packet
LINKSCAN_RX        equ    0x5  ; received packet

;;;
;;; The port status base address points to an array of per-port data (32
;;; elements, 2 bytes each) which is continually updated by the switch chip.
;;; This address is implied by port related op codes
PORTSTATUS_P       equ    0x00 ; port status base address

;;; bits in the linkscan port status fields
PORTSTATUS_RX      equ    0x0  ; received packet
PORTSTATUS_TX      equ    0x1  ; transmitted packet
PORTSTATUS_COLL    equ    0x2  ; collision
PORTSTATUS_SPEED_C equ    0x3  ; 100Mbps
PORTSTATUS_SPEED_M equ    0x4  ; 1Gbps
PORTSTATUS_DUPLEX  equ    0x5  ; half/full duplex
PORTSTATUS_FLOW    equ    0x6  ; flow control capable
PORTSTATUS_LINKUP  equ    0x7  ; link down/up
PORTSTATUS_LINKEN  equ    0x8  ; link disabled/enabled
PORTSTATUS_ZERO    equ    0xe  ; always 0
PORTSTATUS_ONE     equ    0xf  ; always 1

;;;
;;; Blink constants
TICKS_PER_SEC      equ    30   ; LED program runs at 30Hz


;;;
;;; Platform-specific defines
TICKS_PER_BLINK    equ    3    ; 0 to alternate every cycle (15Hz)
NUM_LEDS           equ    64


;;;
;;; Variables
;;;
;;; Addresses 0xa0 to 0xff are initialized to zero and usable by the program.
;;;

;;;
;;; Keep track of blink state, modified each cycle as a timer
BLINK_TICKS_P      equ    0xf0
BLINK_STATE_P      equ    0xf1


main:
        
        ld      a,6
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,5
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,8
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,7
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,30
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,31
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,32
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,29
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,36
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,35
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,34
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,33
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,28
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,27
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,26
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,25
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,23
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,24
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,21
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,22
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,16
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,15
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,14
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,13
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,10
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,9
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,12
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,11
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,19
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,20
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,17
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,18
        call    set_led_AcctonAS5610_52XSFPp

        call blink_update_state
        send NUM_LEDS


blink_update_state:
        ld      a,(BLINK_TICKS_P)
        cmp     a,0
        jz      blink_toggle
        dec     a
        ld      (BLINK_TICKS_P),a
        ret
blink_toggle:
        ld      a,(BLINK_STATE_P)
        xor     a,0x01
        and     a,0x01
        ld      (BLINK_STATE_P),a
        ld      a,TICKS_PER_BLINK
        ld      (BLINK_TICKS_P),a
        ret


;;; AcctonAS5610_52XSFPp
;;;
;;; Two bits per port:
;;;
;;; 1st bit pushed on stack controls amber LED:
;;; 0 - off
;;; 1 - on
;;;
;;; 2n bit pushed on stack controls green LED:
;;; 0 - off
;;; 1 - on
;;;
;;; We will only use green LED.  1st bit pushed is always zero to
;;; disable amber LED.
set_led_AcctonAS5610_52XSFPp:
	port 1
	pushst PORTSTATUS_ZERO
	pack

        port    a
        ld      b,LINKSCAN_P
        add     b,a
        ld      b,(b)
        tst     b,LINKSCAN_TX
        push    cy
        tst     b,LINKSCAN_RX
        push    cy
        tor
        push    (BLINK_STATE_P)
        tand
        tinv                    ; flash off with activity
        pushst  PORTSTATUS_LINKEN
        tand
        pack

        ret
```

---

## led0.hex

```
 02 06 67 9B 02 05 67 9B 02 08 67 9B 02 07 67 9B
 02 1E 67 9B 02 1F 67 9B 02 20 67 9B 02 1D 67 9B
 02 24 67 9B 02 23 67 9B 02 22 67 9B 02 21 67 9B
 02 1C 67 9B 02 1B 67 9B 02 1A 67 9B 02 19 67 9B
 02 17 67 9B 02 18 67 9B 02 15 67 9B 02 16 67 9B
 02 10 67 9B 02 0F 67 9B 02 0E 67 9B 02 0D 67 9B
 02 0A 67 9B 02 09 67 9B 02 0C 67 9B 02 0B 67 9B
 02 13 67 9B 02 14 67 9B 02 11 67 9B 02 12 67 9B
 67 84 3A 40 06 F0 D2 00 70 8E 90 60 F0 57 06 F1
 A2 01 C2 01 60 F1 02 03 60 F0 57 2A 01 32 0E 87
 28 12 80 F8 15 1A 04 27 1A 05 27 B7 26 F1 C7 D7
 32 08 C7 87 57 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
```

---

## led1.asm

```asm
; Automatically generated by /usr/lib/cumulus/update-ports.
; Fri Nov  1 12:08:49 2013
; Do not edit.


;;;
;;; Constants
;;;

LINKSCAN_P         equ    0x80 ; port data base address
LINKSCAN_LINK      equ    0x0  ; link down/up
LINKSCAN_TX        equ    0x4  ; transmitted packet
LINKSCAN_RX        equ    0x5  ; received packet
PORTSTATUS_P       equ    0x00 ; port status base address
PORTSTATUS_RX      equ    0x0
PORTSTATUS_TX      equ    0x1
PORTSTATUS_COLL    equ    0x2
PORTSTATUS_SPEED_C equ    0x3  ; 100Mbps
PORTSTATUS_SPEED_M equ    0x4  ; 1Gbps
PORTSTATUS_DUPLEX  equ    0x5
PORTSTATUS_FLOW    equ    0x6
PORTSTATUS_LINKUP  equ    0x7
PORTSTATUS_LINKEN  equ    0x8
PORTSTATUS_ZERO    equ    0xe
PORTSTATUS_ONE     equ    0xf
TICKS_PER_SEC      equ    30
TICKS_PER_BLINK    equ    3
NUM_LEDS           equ    64
BLINK_TICKS_P      equ    0xf0
BLINK_STATE_P      equ    0xf1


main:
        
        ld      a, 24
        call    pad_n_one
        ld      a,9
        call    set_led_AcctonAS5610_52XQSFPp
        ld      a,13
        call    set_led_AcctonAS5610_52XQSFPp
        ld      a,21
        call    set_led_AcctonAS5610_52XQSFPp
        ld      a,25
        call    set_led_AcctonAS5610_52XQSFPp
        ld      a,30
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,29
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,32
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,31
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,3
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,2
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,1
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,4
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,7
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,6
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,5
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,8
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,36
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,35
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,34
        call    set_led_AcctonAS5610_52XSFPp
        ld      a,33
        call    set_led_AcctonAS5610_52XSFPp

        call blink_update_state
        send NUM_LEDS


blink_update_state:
        ld      a,(BLINK_TICKS_P)
        cmp     a,0
        jz      blink_toggle
        dec     a
        ld      (BLINK_TICKS_P),a
        ret
blink_toggle:
        ld      a,(BLINK_STATE_P)
        xor     a,0x01
        and     a,0x01
        ld      (BLINK_STATE_P),a
        ld      a,TICKS_PER_BLINK
        ld      (BLINK_TICKS_P),a
        ret


;;; AcctonAS5610_52XQSFPp
set_led_AcctonAS5610_52XQSFPp:
	port 1
	pushst PORTSTATUS_ZERO
	pack
        port    a
        ld      b,LINKSCAN_P
        add     b,a
        ld      b,(b)
        tst     b,LINKSCAN_TX
        push    cy
        tst     b,LINKSCAN_RX
        push    cy
        tor
        push    (BLINK_STATE_P)
        tand
        tinv                    ; flash off with activity
        pushst  PORTSTATUS_LINKEN
        tand
        pack
        ret

pad_n_one:
        port 1
        pushst  PORTSTATUS_ONE
        pack
        sub a, 1
        jnz pad_n_one
        ret

;;; AcctonAS5610_52XSFPp
set_led_AcctonAS5610_52XSFPp:
	port 1
	pushst PORTSTATUS_ZERO
	pack
        port    a
        ld      b,LINKSCAN_P
        add     b,a
        ld      b,(b)
        tst     b,LINKSCAN_TX
        push    cy
        tst     b,LINKSCAN_RX
        push    cy
        tor
        push    (BLINK_STATE_P)
        tand
        tinv                    ; flash off with activity
        pushst  PORTSTATUS_LINKEN
        tand
        pack
        ret
```

---

## led1.hex

```
 02 18 67 89 02 09 67 6F 02 0D 67 6F 02 15 67 6F
 02 19 67 6F 02 1E 67 93 02 1D 67 93 02 20 67 93
 02 1F 67 93 02 03 67 93 02 02 67 93 02 01 67 93
 02 04 67 93 02 07 67 93 02 06 67 93 02 05 67 93
 02 08 67 93 02 24 67 93 02 23 67 93 02 22 67 93
 02 21 67 93 67 58 3A 40 06 F0 D2 00 70 62 90 60
 F0 57 06 F1 A2 01 C2 01 60 F1 02 03 60 F0 57 2A
 01 32 0E 87 28 12 80 F8 15 1A 04 27 1A 05 27 B7
 26 F1 C7 D7 32 08 C7 87 57 2A 01 32 0F 87 E2 01
 74 89 57 2A 01 32 0E 87 28 12 80 F8 15 1A 04 27
 1A 05 27 B7 26 F1 C7 D7 32 08 C7 87 57 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
```

---

## See also

- [bcm-config-format.md](bcm-config-format.md) — BCM config format specification
- [SDK_AND_ASIC_CONFIG_FROM_SWITCH.md](SDK_AND_ASIC_CONFIG_FROM_SWITCH.md) — Config layout and parameter details
